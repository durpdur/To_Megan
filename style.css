@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap');

* {
    -webkit-tap-highlight-color: transparent; /* Removes the blue box on tap */
}

body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    width: 100vw;
    overflow-x: hidden;
    font-family: 'Outfit', sans-serif;
    margin: 0;
    background-color: #050b18; /* The "Void" */
    position: relative;

    -webkit-user-select: none; /* Safari */
    -ms-user-select: none;     /* IE 10 and 11 */
    user-select: none;         /* Standard syntax */
}

/* LAYER 1: Small, fast-twinkling stars */
body::before {
    content: "";
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1;
    background-image: 
        radial-gradient(1px 1px at 25px 40px, #fff, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 150px 30px, #fff, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 80px 140px, #fff, rgba(0,0,0,0));
    background-size: 250px 250px;
    animation: twinkle-fast 5s infinite ease-in-out;
}

/* LAYER 2: Slightly larger, slow-fading stars */
body::after {
    content: "";
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1;
    background-image: 
        radial-gradient(1.5px 1.5px at 100px 100px, #eee, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 200px 180px, #ddd, rgba(0,0,0,0)),
        radial-gradient(1px 1px at 30px 190px, #fff, rgba(0,0,0,0));
    background-size: 300px 300px; /* Different size to break the pattern */
    animation: twinkle-slow 7s infinite ease-in-out;
}

/* Fast Twinkle - Dips to 30% brightness */
@keyframes twinkle-fast {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

/* Slow Twinkle - Dips to 50% brightness */
@keyframes twinkle-slow {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.question {
    color: white;
    text-align: center;
}

.question h4, .question h1 {
    margin: 5px 0; /* Tightens up the spacing */
}

/* Container to hold the board and the labels */
.board-container {
    position: relative;
    width: 380px; /* Same as game-board */
    margin-bottom: 40px; /* Space before the slider */
}

/* Positioning the labels under the corners */
.left-label, .right-label {
    position: absolute;
    top: 210px; /* Just below the 200px height of the board */
    color: #eee8db;
    font-weight: bold;
    font-size: 0.9rem;
    letter-spacing: 1px;
}

.left-label {
    left: 0;
}

.right-label {
    right: 0;
}

/* Center the whole game area */
.game-area {
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* 1. Main Container: Clips everything into a semi-circle */
.game-board {
    position: relative;
    width: 380px;
    height: 190px; /* Half the width */
    overflow: hidden; /* This chops off the bottom half */
    margin-bottom: 20px;
}

/* 2. The Blank Background (The "Board") */
.blank-layer {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 380px; /* Full circle height to enable border-radius */
    background-color: #eee8db;
    border-radius: 50%; /* Makes it a circle */
}

/* 3. The Score Layer (The "Target") */
.score-layer {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 380px;
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
    
    background: conic-gradient(
        /* Transparent from start (0) up to the target zone (160) */
        transparent 0deg 150deg, 
        #f4b95f 150deg 160deg,
        #ed6c39 160deg 170deg,
        #64abd4 170deg 180deg,

        /* Transparent for the rest of the circle */
        transparent 180deg 360deg
    );
    
    /* Rotate -90deg so 0 starts at the left horizon, not top */
    transform: rotate(-90deg); 
}

/* When this class is added via JavaScript */
.score-layer.show_score {
    opacity: 1;
}

/* Base style for all numbers */
.score-num {
    position: absolute;
    bottom: 50%; /* Pivot point (center of the circle) */
    left: 50%;
    width: 20px;
    height: 185px; /* Adjust this to move number closer/further from edge */
    margin-left: -10px; /* Center horizontally on pivot */
    transform-origin: bottom center;
    
    color: black;
    font-weight: bold;
    display: flex;
    justify-content: center;
    align-items: flex-start; /* Pushes text to the outer edge of the height */
    font-size: 14px;
}

/* Position each number at the midpoint of its colored slice */
.n1 { transform: rotate(155deg); } /* Midpoint of 150-160 */
.n2 { transform: rotate(165deg); } /* Midpoint of 160-170 */
.n3 { transform: rotate(175deg); } /* Midpoint of 170-180 */

/* 4. The Red Dial */
.dial-layer {
    position: absolute;
    bottom: 0; /* Pinned to bottom of the visible area */
    left: 50%;
    width: 10px;
    height: 180px; /* Length of needle */
    background-color: #cb3641;
    margin-left: -5px;
    transform-origin: bottom center; /* Pivot point */
    transform: rotate(0deg); /* Starts far left */
    transition: transform 0.1s ease-out;
    z-index: 10;
    border-radius: 4px;
}

/* Just a cover for the pivot point to look nice */
.pivot-point {
    position: absolute;
    bottom: -50px;
    left: 50%;
    width: 100px;
    height: 100px;
    background: #cb3641;
    border-radius: 50%;
    transform: translate(-50%, 0);
    z-index: 11;
}

.controls {
    display: flex;
    flex-direction: column;
    align-items: center; /* Centers the button and slider horizontally */
    width: 350px;        /* Matches the game-board width */
    gap: 20px;           /* Adds space between slider, button, and message */
}

input[type=range] {
    width: 100%;         /* Takes up the full 400px width */
    cursor: pointer;
    margin: 0;           /* Removes default browser margins */
}

button {
    padding: 12px 40px;
    margin-top: 10px;    /* Extra padding specifically on top of the button */
    font-size: 1rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    background-color: #cb3641;
    color: white;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    transition: transform 0.1s, background 0.2s;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

button:hover { 
    background-color: #b02a33; 
    transform: translateY(-2px); /* Slight lift on hover */
}

button:active {
    transform: translateY(0);    /* "Push" effect when clicked */
}

#message {
    height: 24px;       /* Fixed height prevents the layout from "jumping" when text appears */
    font-weight: bold;
    margin-top: 5px;
}

.heart-emoji {
    position: fixed;
    top: -50px; /* Start above the screen */
    font-size: 2rem;
    user-select: none;
    pointer-events: none; /* So you can't click them */
    z-index: 1000;
    animation: fall linear forwards;
}

@keyframes fall {
    to {
        transform: translateY(110vh) rotate(360deg);
    }
}

.valentine_card {
    background: rgba(255, 255, 255, 0.1); /* Frosted glass effect */
    backdrop-filter: blur(10px);         /* Blurs the stars behind the card */
    padding: 30px;
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    text-align: center;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    width: 320px;
    margin-top: 40px; /* Space below the game area */
    color: white;

    display: none; /* Starts hidden */
    animation: fadeIn 1s ease forwards;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.valentine_card h1 {
    font-size: 1.5rem;
    margin-bottom: 25px;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
}

.valentine_card button {
    margin: 0 10px;
    padding: 10px 25px;
    min-width: 100px;
    border-radius: 50px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

/* Specific styling for Yes/No buttons */
.valentine_card button:first-of-type {
    background-color: #ff4d6d; /* Sweet pink/red */
    color: white;
}

.valentine_card button:last-of-type {
    background-color: #444; /* Subtle dark for 'No' */
    color: #ccc;

    position: relative; /* Becomes absolute via JS */
    transition: all 0.2s ease; 
    z-index: 999;
}

.valentine_card button:hover {
    transform: scale(1.1);
    box-shadow: 0 0 15px rgba(255, 77, 109, 0.6);
}

#victory-screen {
    display: none; /* Hidden by default */
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(5, 11, 24, 0.9); /* Dark space tint */
    z-index: 2000;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: white;
    animation: fadeIn 1s ease forwards;
}

#victory-screen h2 {
    font-size: 3rem;
    margin: 0;
    text-shadow: 0 0 20px #ff4d6d;
}

.big-heart {
    font-size: 6rem;
    margin-bottom: 20px;
    animation: pulse 1.5s ease-in;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}